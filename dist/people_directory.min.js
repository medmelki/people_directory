/*! people_directory 21-07-2015 */
function setActive(a,b){a.className+=" info",$("."+b+"Element").not(a).removeClass("info")}function setFocus(a){a.className+=" focus",$(".navListItem").not(a).removeClass("focus")}var app=angular.module("directoryApp",["ngRoute"]);app.config(["$routeProvider",function(a){a.when("/default",{templateUrl:"partials/directory.default.html"}).when("/panels",{templateUrl:"partials/directory.panels.html",controller:"companyCtrl"}).otherwise({redirectTo:"/panels",controller:"companyCtrl"})}]),app.controller("companyCtrl",function(a,b){b.get("http://localhost:8080/peopledirectory/rest/company/all").success(function(b){a.companies=b,a.setNextEmployeeId()}),a.setDepartments=function(b){a.departments=b.departments,a.activeCompany=b},a.setEmployees=function(b,c){a.employees=b.employees,a.activeDepartment=b,a.activeDepartmentId=c+1},a.setActiveEmployee=function(b){a.activeEmployee=b},a.addEmployee=function(c,d,e){b.get("http://localhost:8080/peopledirectory/rest/company/employee/add/"+c+"/"+d+"/"+a.nextemployeeId+"/"+e).success(function(b){a.deleteEmployeeSuccess=b})},a.deleteEmployee=function(){b.get("http://localhost:8080/peopledirectory/rest/company/employee/delete/"+a.activeCompany.name+"/"+a.activeDepartmentId+"/"+a.activeEmployee.name).success(function(b){a.deleteEmployeeSuccess=b})},a.deleteDepartment=function(){b.get("http://localhost:8080/peopledirectory/rest/company/department/delete/"+a.activeCompany.name+"/"+a.activeDepartment.name).success(function(b){a.deleteEmployeeSuccess=b})},a.deleteCompany=function(){b.get("http://localhost:8080/peopledirectory/rest/company/delete/"+a.activeCompany.name).success(function(b){a.deleteEmployeeSuccess=b})},a.deleteItem=function(b){switch(b){case"company":a.deleteCompany();break;case"department":a.deleteDepartment();break;case"employee":a.deleteEmployee()}},a.setNextEmployeeId=function(){a.nextemployeeId=0;for(var b in a.companies)for(var c in a.companies[b].departments)for(var d in a.companies[b].departments[c].employees)for(var e in a.companies[b].departments[c].employees[d])a.nextemployeeId=a.nextemployeeId+1}});